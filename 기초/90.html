<!DOCTYPE html>
<html lang="ko">
   <head>
      <meta charset="UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>문제90 : 같은 의약 성분을 찾아라!</title>
   </head>
   <body>
      <script>
         // 의약품 성분이 총 8개인 약품들이 있습니다. 예를 들어 다음 데이터는 총 8개의 성분을 갖습니다.

         // 판콜비 = 'ABCDEFGH'
         // 넥타이레놀 = 'EFGHIJKL'

         // 특정 약품 A의 성분이 공개되었을 때, 이와 유사한 성분을 가진 데이터들의 출력을 구하는 문제입니다.

         // 입력 : 'ABCDEFGH' 4
         // 데이터 : 'EFGHIJKL', 'EFGHIJKM', 'EFGHIJKZ' 등 1만 개의 데이터
         // 출력 : 'EFGHIJKL', 'EFGHIJKM', 'EFGHIJKZ' 등 4개의 요소가 같은 약품 전부(4개 이상이 아니며 같은 요소가 4개인 것을 출력해야 합니다.)

         // * 해당 문제는 시간제한이 있습니다.
         // * 제약 데이터의 성분은 중복이 될 수 없습니다.
         // (예를 들어 'AAABBBAB'와 같은 데이터는 없습니다.)

         let medisine = 'ABCDEFGH';
         let value = 4;
         let arr = [];
         let data = [];

         for (var i = 65; i < 91; i++) {
            data.push(String.fromCharCode(i));
         }

         function random(a) {
            let string = [];

            while (string.length !== 8) {
               let b = a[Math.floor(Math.random() * a.length)];
               if (!string.includes(b)) {
                  string.push(b);
               }
            }

            let med = string.join('');

            return med;
         }

         let total_medicine = [];

         while (total_medicine.length !== 100) {
            let m = random(data);
            if (!total_medicine.includes(m)) {
               total_medicine.push(m);
            }
         }

         console.log(total_medicine);

         for (const a of total_medicine) {
            let setUserData = new Set(medisine);
            let setMedisine = new Set(a);

            let intersection = new Set([...setUserData].filter((x) => setMedisine.has(x)));

            if (intersection.size === value) {
               arr.push(a);
            }
         }

         console.log(arr);
         console.log(arr.length);
      </script>
   </body>
</html>
